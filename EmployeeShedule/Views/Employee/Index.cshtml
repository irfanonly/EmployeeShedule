
@model IQueryable<EMPLOYEE>

    <div class="breadcrumbs">
        <ol class="breadcrumb">
            <li><a href="~/Admin/Index"><i class="fa fa-home"></i>Dashboard</a></li>
            <li class="active">Employees</li>
        </ol>
    </div>
    <div class="main">
        <!-- row -->
        <div class="row">
            <!-- col 12 -->
            <div class="col-md-12">
                <!-- tile -->
                <section class="tile cornered">
                    <!-- tile header -->
                    <div class="tile-header">
                        <div class="tile-body nopadding">
                            <h1><strong>Employees View </strong></h1>
                        </div>
                        <div class="tile-header">
                            <a href="AddNewEmployee.aspx">New Employee</a>
                        </div>

                    </div>
                    @*<%--<div class="tile-header">
                        <a href="AddEmployee.aspx">Add Employee</a>
                    </div>--%>*@
                    <!-- /tile header -->
                    <div class="tile-body nopadding">
@using (Html.BeginForm())
{
                        <div class="form-group col-md-12">
                            <label for="chk_employee" class="col-sm-4 control-label">
                                Team
                            </label>
                            <div class="col-sm-8">
                                @*<select id="team_id" name="team_id" runat="server" required="required" class="form-control"></select>*@
                                @Html.DropDownList("teamid", null, "All Teams", new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="txt_FName" class="col-sm-4 control-label">First Name</label>
                            <div class="col-sm-8">
                                @*<input type="text" class="form-control" value="" name="txt_FName" id="txt_FName" />*@
                                @Html.TextBox("firstname", null, new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="txt_FName" class="col-sm-4 control-label">Last Name</label>
                            <div class="col-sm-8">
                                @*<input type="text" class="form-control" value="" name="txt_FName" id="txt_LName" />*@
                                @Html.TextBox("lastname", null, new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="form-group col-md-6">
                            <label for="txt_UName" class="col-sm-4 control-label">E Mail</label>
                            <div class="col-sm-8">
                                @*<input type="text" class="form-control" value="" name="txt_Email" id="txt_Email" />*@
                                @Html.TextBox("email", null, new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="txt_MNum" class="col-sm-4 control-label">Mobile Number</label>
                            <div class="col-sm-8">
                                @*<input type="text" class="form-control" value="" name="txt_Mnum" id="txt_Mnum" />*@
                                @Html.TextBox("mobilenumber", null, new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-12">
                                <input type="hidden" class="btn btn-primary" style="float:right;clear:both" name="act" value="search" />
                                <input type="button" class="btn btn-primary" style="float:right;clear:both" name="Add Employee" value="Add Employee" />
                                <input type="submit" class="btn btn-primary" style="float:right;margin-right:5px;" name="sendbut" value="Filter" />
                            </div>
                        </div>
}
                        <div class="clearfix"></div>
                        <div class="clearfix"></div>
                        <!-- tile body -->
                        <br />
                        <table class="table" id="employeeTable">
                            <thead>
                                <tr>
                                    <th>Sr. #</th>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Team Name</th>
                                    <th>Email</th>
                                    <th>Mobile No</th>
                                    <th>Office</th>
                                    <th>Active</th>
                                    <th>Supervisior</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach(var emp in Model)
                                {
                                    <tr>
                                        <td>@emp.ID</td>
                                        <td>@emp.FirstName</td>

                                        <td>@emp.LastName</td>
                                        <td>@(emp.TeamID == null ? "": emp.TEAM.TeamName)</td>
                                        <td>@emp.Email</td>
                                        <td>@emp.MobileNo</td>
                                        <td>@emp.OfficeExitNo</td>
                                        <td>@emp.Active</td>
                                        <td>@emp.IsSupervisor</td>
                                    </tr>
                                    
                                }
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>
    </div>

    @*<script>
        $('document').ready(function () {

            $.ajax({
                type: "POST",
                url: "Employees.aspx/SetEmployeeTable",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: onsuccessemployee,
                error: onerror

            });
            function onsuccessemployee(data) {

                var data1 = data.d;
                var html = "";
                if (data1.length > 0)
                {
                    for (i = 0; i < data1.length; i++)
                    {
                        html += "<tr id=" + data1[i].ID + "><td>" + (i + 1) + "</td><td>" + data1[i].FirstName + "</td><td>" + data1[i].LastName + "</td><td>" + data1[i].TeamName + "</td><td>" + data1[i].Email + "</td>";
                        html += "<td>" + data1[i].MobileNo + "</td><td>" + data1[i].OfficeExitNo + "</td>";

                        if (data1[i].Active)
                        {
                            html += "<td><input type='checkbox' id='chk_active" + i + "' checked='checked' disbaled='disabled'></td>";
                        }
                        else
                        {
                            html += "<td><input type='checkbox' id='chk_active" + i + "'  disbaled='disabled'></td>";
                        }
                        if (data1[i].SuperVisor)
                        {
                            html += "<td><input type='checkbox' id='chk_SuperVisor" + i + "' checked='checked' disbaled='disabled'></td>";
                        }
                        else
                        {
                            html += "<td><input type='checkbox' id='chk_SuperVisor" + i + "'  disbaled='disabled'></td>";
                        }
                        //html+="<td>" + data1[i].SuperVisor + "</td></tr>";
                    }
                }
                $('#employeeTable tbody').append(html);
            }

            function onerror()
            {
                alert('error');
            }
        });
    </script>*@



